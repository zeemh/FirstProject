<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    #container {
      width: 700px;
      margin: 0 auto;
    }
    #consumer_list {
      border: 1px solid #242424;
      border-collapse: collapse;
    }
    th,
    td {
      border: 1px solid #242424;
    }
    th {
      background-color: #fce6e6;
    }
    td {
      text-align: center;
    }
    button {
      margin-top: 5px;
      float: right;
      color: #fff;
      width: 100px;
      height: 40px;
      background-color: #f08080;
      text-align: center;
      border: 1px solid #929292;
      border-radius: 3px;
    }
  </style>
  <body>
    <div id="container">
      <table id="consumer_list">
        <thead>
          <th style="width: 150px">업체 명</th>
          <th style="width: 400px">주소</th>
          <th style="width: 150px">사업자 번호</th>
        </thead>
        <tbody id="consumer_data">
          <!-- 리스트 정보 받아오기 -->
        </tbody>
      </table>
      <button onclick="window.close()">닫기</button>
    </div>
    <script>
      // 가상의 데이터 리스트 (예시)
      var consumerDataList = [
        { name: "회사1", address: "주소1", registrationNumber: "사업자번호1" },
        { name: "회사2", address: "주소2", registrationNumber: "사업자번호2" },
        // 다른 데이터도 유사한 형식으로 추가 가능
      ];

      // 데이터를 동적으로 생성하여 테이블에 추가하는 함수
      function populateConsumerData() {
        var tbody = document.getElementById("consumer_data");

        // 데이터 리스트를 순회하며 각 항목을 테이블에 추가
        for (var i = 0; i < consumerDataList.length; i++) {
          var consumer = consumerDataList[i];
          var row = document.createElement("tr");

          // 회사 이름 열
          var nameCell = document.createElement("td");
          var nameLink = document.createElement("a");
          nameLink.textContent = consumer.name;
          // 클릭 이벤트를 통해 데이터를 선택하도록 설정
          nameLink.onclick = function (event) {
            event.preventDefault();
            selectConsumer(consumer.name, consumer.address);
          };
          nameCell.appendChild(nameLink);
          row.appendChild(nameCell);

          // 주소 열
          var addressCell = document.createElement("td");
          addressCell.textContent = consumer.address;
          row.appendChild(addressCell);

          // 사업자 번호 열
          var registrationNumberCell = document.createElement("td");
          registrationNumberCell.textContent = consumer.registrationNumber;
          row.appendChild(registrationNumberCell);

          // 완성된 행을 테이블에 추가
          tbody.appendChild(row);
        }
      }

      // 데이터를 테이블에 추가
      populateConsumerData();

      function selectConsumer(consumerName, consumerAddress) {
        // 회사 이름과 주소를 입력란에 자동으로 채우기
        document.getElementById("consumerNameInput").value = consumerName;
        document.getElementById("consumerAddressInput").value = consumerAddress;
        // 팝업 창 닫기
        window.close();
      }
    </script>
  </body>
</html>
