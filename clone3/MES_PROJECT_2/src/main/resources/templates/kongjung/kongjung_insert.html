<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>공정 정보</title>

	<th:block th:include="header/header.html"></th:block>
	<link rel="stylesheet" href="/Kongjung/kongjung_insert.css">
	<link rel="stylesheet" href="/common/global.css">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<div id="container">
		<ul class="menu1" style="width: 1250px;">
			<li>
				<a href="/main.html">
					<img src="img/home.png" width="40" height="40" viewBox="0 0 51 51">
				</a>
			</li>
			<div style="margin-top: 15px;" width="300px" id="menu2">
				<li>
					<img src="img/arrow_right_pink.png" width="12" height="20" viewBox="0 0 17 29">
				</li>
				<li>
					<h4>공정 관리</h4>
				</li>
				<li>
					<img src="img/arrow_right_pink.png" width="12" height="20" viewBox="0 0 17 29">
				</li>
				<li>
					<h4>공정 등록</h4>
				</li>
			</div>
		</ul>
		<div class="name">
			<h2>공정 등록</h2>
		</div>
		<div class="table_container" style="margin-top: 20px;">
    <table class="table" border="2" width="1250px">
        <thead>
            <tr>
                <th id="col">공정 번호</th>
                <th><input type="text" id="processNum" name="processNum" style="float:left" required></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td id="col1">레시피 설명</td>
                <td id="col2"><input type="text" id="processName" name="processName" style="float:left" required></td>
            </tr>
                <td id="col1">재료 명</td>
                <td id="col2"><input type="text" id="materialNo" name="materialNo" style="float:left" required></td>
        </tbody>
    </table>
</div>
		<div id="btn">
    <button id="btn_cancel" onclick="location.href='kongjung_info'" style="float:right">취소</button>
    <button id="btn_insert" style="float: right">등록</button>
		</div>
	</div>
</body>
<script>
	$(document).ready(function() {
    // 등록 버튼 클릭 시 처리
    $("#btn_insert").click(function () {
        var processNum = $("#processNum").val();
        var processName = $("#processName").val();
		var materialNo = $("#materialNo").val();
		
        // 데이터를 서버로 전송
        $.ajax({
            type: "POST",
            url: "/kongjung_insert/action",
            data: {
                processNum: processNum,
                processName: processName,
                materialNo : materialNo
            },
            success: function (response) {
                alert("등록이 완료되었습니다.");
                location.href = "/kongjung_info"; // 등록 후 페이지 이동
            },
            error: function (error) {
                console.error("오류:", error);
            }
        });
    });
         });
</script>
</html>